
# Potato Disease Classification

---

## Description

This project aims to build a deep learning model that classifies potato leaf diseases into categories such as **Healthy**, **Early Blight**, and **Late Blight** using images. It includes a Jupyter-based training pipeline, a FastAPI backend for serving predictions, TensorFlow Serving for Docker-based deployment, and a React-based frontend.

---

## Purpose of the Project

Diseases in potato crops can cause significant yield loss. Manual disease identification is slow, subjective, and not scalable. We developed this end-to-end deep learning-based classification system to:
- Automate disease detection.
- Improve agricultural productivity.
- Provide a scalable and accurate solution accessible via a web interface.
- Deploy the solution using modern tools like FastAPI, TensorFlow Serving, and Docker.

---

## Project Repository Structure

```bash
POTATO-DISEASE-CLASSIFICATION/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py                # FastAPI backend to handle requests
â”‚   â”œâ”€â”€ tf_serving.py          # Calls TensorFlow Serving for prediction
â”‚   â””â”€â”€ requirements.txt       # Backend dependencies
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ package-lock.json
â”‚   â””â”€â”€ node_modules/
â”‚
â”œâ”€â”€ training/
â”‚   â”œâ”€â”€ datasets/              # Dataset folder (optional)
â”‚   â”œâ”€â”€ extra/
â”‚   â”œâ”€â”€ PlantVillage/          # Contains downloaded dataset
â”‚   â”œâ”€â”€ pdcm_image_data_generator.ipynb
â”‚   â”œâ”€â”€ potato_disease_classification_model.ipynb
â”‚   â”œâ”€â”€ requirements.txt       # Training dependencies
â”‚   â””â”€â”€ potato_model.h5        # Final trained model
â”‚
â”œâ”€â”€ saved_models/              # For saving TensorFlow format models
â”œâ”€â”€ internet_images/           # Testing images for manual evaluation
â”œâ”€â”€ models.config              # TensorFlow Serving model configuration
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md                  # You're here!
```

---

## Dataset Link

We used the PlantVillage dataset available on Kaggle:  
ðŸ”— [https://www.kaggle.com/arjuntejaswi/plant-village](https://www.kaggle.com/arjuntejaswi/plant-village)

---

## Steps to Execute the Project

### 1. Setup Environment

a. **Create a virtual environment:**

```bash
python -m venv venv
```

b. **Activate your virtual environment:**

- **Windows:**
```bash
.venv\Scripts\activate
```

---

### 2. Install Dependencies

c. **Install from `training/requirements.txt`:**

```bash
pip install -r training/requirements.txt
```

d. **Then install from `backend/requirements.txt`:**

```bash
pip install -r backend/requirements.txt
```

---

### 3. Train the Model

e. **Run the Jupyter notebook** in `training/`:

```bash
jupyter notebook potato_disease_classification_model.ipynb
```

This will train the model and save it as `SavedModel Format`.

---

## Backend Execution Steps

a. **Run FastAPI backend server:**

```bash
python backend/main.py
```

b. **TensorFlow Serving Setup (`tf_serving.py`)**

This script allows serving the latest model using Dockerized TensorFlow Serving.

*TensorFlow Serving* is used here to serve the trained model efficiently and scalably via REST API,separate from your Python environment.

c. **To run TensorFlow Serving using Docker (PowerShell command):**

```powershell
docker run -t --rm -p 8504:8504 -v C:\Users\R. Subrahmanyam\Downloads\potato-disease-classification-main:/potato-disease-classification tensorflow/serving --rest_api_port=8504 --model_config_file=/potato-disease-classification/models.config
```

**NOTE:**
- Change the **path** and **port** as per your local system.
- Used **Postman** to test the FastAPI + TensorFlow Serving prediction pipeline.

---

## Frontend Execution Steps

g. **Install frontend dependencies:**

```bash
npm install --from-lock-json
```

h. **Fix vulnerabilities (optional but recommended):**

```bash
npm audit fix
```

i. **Run the React frontend:**

```bash
npm start
```

---

## Cloud Deployment

> This project has been successfully **deployed on Google Cloud Platform (GCP)** for scalable real-world use.

---

## Deployment Notes

1. The trained model (`potato_model.h5`) was uploaded to **Google Cloud Platform (GCP)** for deployment. This method was chosen for its **efficiency, convenience, and scalability**.

2. The model file `potato_model.h5` is generated by running the notebook:
   ```bash
   pdcm_image_data_generator.ipynb
   ```
   This notebook handles image preprocessing and model training.
